(this["webpackJsonpimage-search"]=this["webpackJsonpimage-search"]||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/searching_tickets.d63a4745.gif"},37:function(e,t,a){e.exports=a(76)},42:function(e,t,a){},43:function(e,t,a){},61:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(31),r=a.n(l),s=a(1),i=(a(42),a(43),a(32)),o=a.n(i),u=(a(61),a(33)),m=a.n(u),d=a(2),p=a(8),h=a.n(p),g=a(34),b=a.n(g),f=function(){return c.a.createElement(n.Fragment,null,c.a.createElement("img",{className:"loader",src:b.a,style:{display:"block",margin:"auto",maxWidth:"300px"}}))},E=function(){return c.a.createElement("div",{className:"post loading"},c.a.createElement("h5",null,"Loading..."))},v=function(e){var t=e.images,a=e.loading,l=Object(n.useContext)(J).state,r=Object(d.f)(),i=Object(n.useState)({bgColor:""}),o=Object(s.a)(i,2),u=(o[0],o[1]),p=Object(n.useState)(""),g=Object(s.a)(p,2),b=g[0],v=g[1];if(Object(n.useEffect)((function(){b&&fetch("/addImage",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({url:b})}).then((function(e){return e.json()})).then((function(e){e.error?h.a.toast({html:e.error,classes:"#c62828 red darken-3"}):h.a.toast({html:"Added Image Successfully",classes:"#43a047 green darken-1"})})).catch((function(e){console.log(e)}))}),[b]),a)return c.a.createElement(f,null);return c.a.createElement("div",{className:"gallery"},c.a.createElement(m.a,{placeholder:c.a.createElement(E,null)},t.map((function(e,t){return c.a.createElement("span",{key:t},c.a.createElement("div",{className:"image-divs"},c.a.createElement("img",{className:"itemImage animate__animated animate__pulse",key:t,src:e.urls.regular}),c.a.createElement("i",{className:"material-icons like-btn",onClick:function(){return function(e){l?(u({bgColor:"#4e54c8"}),v(e)):(h.a.toast({html:"Please login first",classes:"#d81b60 pink darken-1"}),r.push("/signin"))}(e.urls.regular)}},"favorite_border")))}))))},j=a(36),O=a.n(j);var y=function(e){var t=e.updateQuery,a=Object(n.useState)([]),l=Object(s.a)(a,2),r=l[0],i=l[1],u=Object(n.useState)(!0),m=Object(s.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(null),g=Object(s.a)(h,2),b=g[0],f=g[1],E=Object(n.useState)(""),j=Object(s.a)(E,2),y=(j[0],j[1]),N=Object(n.useState)(""),S=Object(s.a)(N,2),k=S[0],C=S[1],w=Object(n.useState)(16),x=Object(s.a)(w,2),_=x[0],I=(x[1],Object(n.useState)(0)),A=Object(s.a)(I,2),P=A[0],T=A[1],z=function(e,a){var n={headers:{Authorization:"Client-ID lXV5rBTZvtCk-dHQnQdFXSbwocD2_re_nucqQdOwWok"},params:{query:e,page:a,per_page:_}};o.a.get("https://api.unsplash.com/search/photos",n).then((function(t){y(e),i(t.data.results),p(!1),T(t.headers["x-total"])})).catch((function(e){console.log(e)})),t(e)};return c.a.createElement("div",{className:"Search"},c.a.createElement("div",{className:"search-box input-field"},c.a.createElement("input",{className:"search-input",type:"text",value:k,onChange:function(e){return C(e.target.value)},placeholder:"Search...",style:{width:"70%",color:"#4e54c8"}}),c.a.createElement("button",{className:"btn waves-effect waves-light btn-large search-btn",onClick:function(){return z("".concat(k))}},"Search")),c.a.createElement(v,{images:r,loading:d}),P>0?c.a.createElement(O.a,{prevPageText:"prev",nextPageText:"next",firstPageText:"first",lastPageText:"last",activePage:b,itemsCountPerPage:_,totalItemsCount:P,onChange:function(e){return f(t=e),void z("".concat(k),t);var t}}):"")},N=a(12),S=a(13),k=a(15),C=a(14),w=(a(72),function(e){Object(k.a)(a,e);var t=Object(C.a)(a);function a(){return Object(N.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return c.a.createElement("ul",{className:"circles"},c.a.createElement("li",null),c.a.createElement("li",null),c.a.createElement("li",null),c.a.createElement("li",null),c.a.createElement("li",null),c.a.createElement("li",null),c.a.createElement("li",null),c.a.createElement("li",null),c.a.createElement("li",null),c.a.createElement("li",null))}}]),a}(c.a.Component)),x=(a(73),a(4)),_=function(){var e=Object(n.useContext)(J),t=e.state,a=e.dispatch,l=Object(d.f)();return c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement(x.b,{to:"/",className:"brand-logo"},"Collosal Images"),c.a.createElement("ul",{id:"nav-mobile",className:"right"},t?[c.a.createElement("li",{key:"1",className:"mobile"},c.a.createElement(x.b,{to:"/profile"},"Profile")),c.a.createElement("li",{key:"5",className:"mobile"},c.a.createElement("button",{className:"btn",onClick:function(){localStorage.clear(),a({type:"CLEAR"}),l.push("/signin")}},"Logout"))]:[c.a.createElement("li",{key:"2",className:"mobile"},c.a.createElement(x.b,{to:"/signin"},"Sign In")),c.a.createElement("li",{key:"3",className:"mobile"},c.a.createElement(x.b,{to:"/signup"},"Sign Up"))])))},I=function(){var e=Object(d.f)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),u=o[0],m=o[1],p=Object(n.useState)(""),g=Object(s.a)(p,2),b=g[0],f=g[1];return c.a.createElement("div",{className:"mycard"},c.a.createElement("div",{className:"card auth-card input-field"},c.a.createElement("h2",{className:"form-heading"},"Sign Up"),c.a.createElement("input",{type:"text",placeholder:"Name",value:l,onChange:function(e){return r(e.target.value)}}),c.a.createElement("input",{type:"text",placeholder:"email",value:b,onChange:function(e){return f(e.target.value)}}),c.a.createElement("input",{type:"password",placeholder:"password",value:u,onChange:function(e){return m(e.target.value)}}),c.a.createElement("button",{className:"btn waves-effect waves-light btn-beneath-input",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(b)?fetch("/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,password:u,email:b})}).then((function(e){return e.json()})).then((function(t){t.error?h.a.toast({html:t.error,classes:"#d81b60 pink darken-1"}):(h.a.toast({html:t.message,classes:"#004d40 teal darken-4"}),e.push("/signin"))})).catch((function(e){console.log(e)})):h.a.toast({html:"invalid email",classes:"#c62828 red darken-3"})}},"Sign Up"),c.a.createElement("h5",null,c.a.createElement(x.b,{to:"/signin"},"Already have an account?"))))},A=function(){var e=Object(n.useContext)(J).dispatch,t=Object(d.f)(),a=Object(n.useState)(""),l=Object(s.a)(a,2),r=l[0],i=l[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),m=u[0],p=u[1];return c.a.createElement("div",{className:"mycard"},c.a.createElement("div",{className:"card auth-card input-field"},c.a.createElement("h2",{className:"form-heading"},"Login"),c.a.createElement("input",{type:"text",placeholder:"email",value:m,onChange:function(e){return p(e.target.value)}}),c.a.createElement("input",{type:"password",placeholder:"password",value:r,onChange:function(e){return i(e.target.value)}}),c.a.createElement("button",{className:"btn waves-effect waves-light btn-beneath-input",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(m)?fetch("/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:r,email:m})}).then((function(e){return e.json()})).then((function(a){a.error?h.a.toast({html:a.error,classes:"#d81b60 pink darken-1"}):(localStorage.setItem("jwt",a.token),localStorage.setItem("user",JSON.stringify(a.user)),e({type:"USER",payload:a.user}),h.a.toast({html:"signedin successfully",classes:"#004d40 teal darken-4"}),t.push("/"))})).catch((function(e){console.log(e)})):h.a.toast({html:"invalid email",classes:"#c62828 red darken-3"})}},"Login"),c.a.createElement("h5",null,c.a.createElement(x.b,{to:"/signup"},"Don't have an account?"))))},P=(a(74),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useContext)(J).state;return Object(n.useEffect)((function(){fetch("/myimage",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){l(e.myimage)}))}),[]),c.a.createElement("div",{className:"my-card"},c.a.createElement("div",{className:"card profile-card"},c.a.createElement("h4",null,"Hello ",r?r.name:"loading"),c.a.createElement("div",{className:"gallery"},a.map((function(e){return c.a.createElement("img",{key:e._id,className:"item",src:e.url,alt:e.title})})))))}),T=(a(75),function(e){Object(k.a)(a,e);var t=Object(C.a)(a);function a(){return Object(N.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"intro-container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12"},c.a.createElement("p",{className:"intro-para"},"Request for a particular category of images and use the ones seleted by you anytime, anywhere."),c.a.createElement(x.b,{to:"/search"},c.a.createElement("button",{className:"btn waves-effect waves-light btn-large",type:"submit",name:"action"},"Start Searching",c.a.createElement("i",{className:"material-icons right"},"send")))),c.a.createElement("div",{className:"col s12 img-div"},c.a.createElement("img",{src:"/ImageSearchReact/assets/images/search-vs-display-blog-1280x720-removebg.png",className:"banner-img animate__animated animate__backInDown animate__slow"}))))}}]),a}(c.a.Component)),z=function(e,t){return"USER"==t.type?t.payload:e},J=Object(n.createContext)(),R=function(){var e=Object(d.f)(),t=Object(n.useContext)(J),a=(t.state,t.dispatch),l=Object(n.useState)(""),r=Object(s.a)(l,2),i=r[0],o=r[1];return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"));t?(a({type:"USER",payload:t}),e.push("/")):e.push("/signin")}),[]),c.a.createElement(d.c,null,c.a.createElement(d.a,{exact:!0,path:"/"},c.a.createElement(T,null)),c.a.createElement(d.a,{path:"/signin"},c.a.createElement(A,null)),c.a.createElement(d.a,{path:"/signup"},c.a.createElement(I,null)),c.a.createElement(d.a,{exact:!0,path:"/search"},c.a.createElement(y,{updateQuery:function(t){o(t),e.push("/search?".concat(i))}})),c.a.createElement(d.a,{exact:!0,path:"/profile"},c.a.createElement(P,null)))};var U=function(){var e=Object(n.useReducer)(z,null),t=Object(s.a)(e,2),a=t[0],l=t[1];return c.a.createElement(J.Provider,{value:{state:a,dispatch:l}},c.a.createElement(x.a,null,c.a.createElement(w,null),c.a.createElement(_,null),c.a.createElement(R,null)))};r.a.render(c.a.createElement(U,null),document.querySelector("#root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.65ca1a7c.chunk.js.map